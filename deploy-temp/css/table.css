/* Table Styles - Consolidated */

/* Base Table Styles */
table {
    width: 100%;
    border-collapse: collapse;
    margin-bottom: var(--spacing-md);
}

caption {
    text-align: left;
    font-size: 1.2rem;
    margin: 0.25rem 2rem 1.5rem 6rem;
}

th, .report-table th {
    border: 1px solid #ccc;
    padding: 1rem;
    vertical-align: middle;
    text-align: center;
    color: var(--th-color, #222);
    background-color: #f2f2f2;
    font-size: 1.25rem;
}

td {
    border: 1px solid #ccc;
    padding: 1rem;
    color: #222;
    text-align: center;
    vertical-align: middle;
    font-size: 1rem;
    line-height: 1.5rem; /* Added line-height from checklist.css for consistency */
}

/* Generic Cell Classes (Principles & Report) */
.task-cell {
    width: 50%;
    padding: 8px;
    vertical-align: middle;
    text-align: left;
    padding-left: 30px;
}

th.task-cell { /* Ensure header alignment matches base th */
    text-align: center;
    vertical-align: middle;
    padding: 1rem; /* Match base th padding */
    font-size: 1.25rem;
}

.info-cell {
    width: 4%;
    padding: 8px;
    vertical-align: middle;
    text-align: center;
}

.notes-cell, .report-notes-cell {
    width: 30%;
    padding: 8px;
    vertical-align: middle;
    text-align: left;
    white-space: normal;
    word-wrap: break-word;
}

.status-cell, .report-status-cell {
    width: 7%;
    text-align: center;
    vertical-align: middle;
    padding: 0;
    position: relative;
    min-width: 40px;
}

.restart-cell {
    width: 7%;
    text-align: center;
    vertical-align: middle;
    padding: 0;
    position: relative;
    min-width: 40px;
}

.delete-cell, .report-delete-cell {
    width: 7%;
    text-align: center;
    vertical-align: middle;
    padding: 0;
}

/* Report Table Specific Cell Classes */
.report-date-cell {
    width: 8%;
    text-align: center;
}

/* Hide Progress column in Principles tables only */
.principles-table th:nth-child(3),
.principles-table td:nth-child(3) {
    /* display: table-cell; /* Corrected from display: none in checklist.css block */
    /* display: none; /* Final state from multiple.css block */
    display: table-cell; /* Ensure column is visible */
}

.report-task-cell {
    width: 46%;
    padding: 8px;
    vertical-align: middle;
    text-align: left;
    padding-left: 30px;
}

.report-notes-cell {
    width: 30%;
    padding: 8px;
    vertical-align: middle;
    text-align: left;
    white-space: normal;
    word-wrap: break-word;
}

.report-status-cell, .report-delete-cell {
    width: 7%;
    text-align: center;
    vertical-align: middle;
    padding: 0;
    position: relative;
    min-width: 40px;
}

/* Report Section Caption */
.report-section h2, #report-caption {
    color: var(--principle--color, #666666);
}

/* --- Interactive Elements within Tables --- */

/* Info Link */
.info-link {
    display: flex;
    align-items: center;
    justify-content: center;
    width: 100%;
    height: 100%;
    background: none;
    border: none;
    padding: 0;
    cursor: pointer;
}

.info-link img {
    width: 24px;
    height: 24px;
    transition: transform 0.2s ease;
}

/* Status Button (Principles & Report Tables) - DRY Consolidated */
.status-button,
.report-status-button {
    background: none;
    border: none;
    cursor: pointer;
    padding: 0;
    transition: background-color 0.2s ease;
    width: 75px;
    height: 75px;
    min-width: 75px;
    min-height: 75px;
    max-width: 75px;
    max-height: 75px;
    box-sizing: border-box;
    display: flex;
    align-items: center;
    justify-content: center;
    position: absolute; /* Position absolutely within the cell */
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    border-radius: 4px;
    margin: auto;
}

.status-button img,
.report-status-button img {
    width: 100%; /* Scale image to button width */
    height: 100%; /* Scale image to button height */
    object-fit: contain; /* Ensure aspect ratio is maintained */
    padding: 4px; /* Padding around the icon */
}
/* Status image data states handled by JS/HTML */

/* Restart Button (Principles Table) */
.restart-button {
    background: none;
    border: none;
    cursor: pointer;
    padding: 0;
    transition: background-color 0.2s ease;
    width: 60px;
    height: 60px;
    min-width: 60px;
    min-height: 60px;
    max-width: 60px;
    max-height: 60px;
    box-sizing: border-box;
    display: flex;
    align-items: center;
    justify-content: center;
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    border-radius: 4px;
    margin: auto;
}

.restart-button img {
    width: 60px;
    height: 60px;
    object-fit: contain;
    padding: 4px;
    display: block;
    margin: 0 auto;
}

/* Report Status Display (Image or Button) */
/* Style the image within the report status cell (always present) */
.report-status-cell img {
    width: 100%;
    height: 100%;
    object-fit: contain;
    padding: 4px;
    display: block;
    box-sizing: border-box;
}

/* DRY: Report buttons inherit from base button classes */
/* Report Status Button - now consolidated with .status-button above */

.report-status-button:disabled {
    cursor: default;
}

/* DRY: Report Delete Button - uses same styling as .delete-button */
.report-delete-button {
    background: none;
    border: none;
    cursor: pointer;
    padding: 0;
    transition: background-color 0.2s ease;
    width: 70px;
    height: 70px;
    min-width: 70px;
    min-height: 70px;
    max-width: 70px;
    max-height: 70px;
    box-sizing: border-box;
    display: flex;
    align-items: center;
    justify-content: center;
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    border-radius: 4px;
    margin: auto;
}

.report-delete-button img {
    width: 100%;
    height: 100%;
    object-fit: contain;
    padding: 4px;
}

/* Removed focus/hover styles - Handled by focus.css */


/* === Principles Table Wrapper and Add Row Buttons === */
.principles-table-wrapper {
    margin-bottom: 1rem;
}

.principles-buttons {
    display: flex;
    justify-content: flex-start;
    margin-top: 0.5rem;
    gap: 0.5rem;
}

/* Principles Add Row buttons - same structure as Report Add Row button */
.principles-button {
    width: 30px;
    height: 30px;
    padding: 0; /* Remove padding to allow img to fill */
    border: none !important; /* Force no border */
    background-color: transparent !important; /* Force transparent background */
    position: relative; /* Needed for pseudo-element positioning */
    border-radius: 50%; /* Always circular to prevent square flash */
}

.principles-button img {
    width: 100%;
    height: 100%;
    object-fit: contain; /* Scale icon nicely */
}

/* DRY Golden ring focus and hover styles for add row buttons */
.principles-button:is(:hover, :focus-visible) {
    outline: none;
    box-shadow: var(--golden-ring) !important;
}

/* === Report Table and Cell Structure Styles === */
.report-table th:nth-child(1),
.report-table td:nth-child(1) {
    width: 8%;
}
.report-table th:nth-child(2),
.report-table td:nth-child(2) {
    width: 46%;
}
.report-table th:nth-child(3),
.report-table td:nth-child(3) {
    width: 30%;
}
.report-table th:nth-child(4),
.report-table td:nth-child(4) {
    width: 8%;
}
.report-table th:nth-child(5),
.report-table td:nth-child(5) {
    width: 8%;
}

.report-date-cell {
    width: 8%;
    padding: 8px;
    vertical-align: middle;
    text-align: center;
}

.report-task-cell {
    width: 46%;
    padding: 8px;
    vertical-align: middle;
    text-align: left;
    padding-left: 30px;
}

th.report-task-cell {
    text-align: center;
    vertical-align: middle;
    padding: 1rem;
    font-size: 1.25rem;
}

.report-notes-cell {
    width: 30%;
    padding: 8px;
    vertical-align: middle;
    text-align: left;
    white-space: normal;
    word-wrap: break-word;
}

.report-status-cell {
    width: 8%;
    text-align: center;
    vertical-align: middle;
    padding: 0;
    position: relative;
    min-width: 40px;
}

.report-delete-cell {
    width: 8%;
    text-align: center;
    vertical-align: middle;
    padding: 0;
    position: relative;
    min-width: 40px;
}

/* === Report Table Interactive Elements === */
/* DRY: Removed duplicate .report-status-button and .report-delete-button definitions */
/* See earlier in file for consolidated DRY versions */

/* === Report Table Textarea Styles === */
/* Note: Textarea styles are now unified in form-elements.css */

/* Legacy overlay styles removed - overlays no longer used */

/* Ensure all report rows have the same base styling */
/* Note: .report-row styles can be added here if needed */

/* --- Universal Status Icon Logic (from buttons.md) --- */
.status-button {
  width: 75px;
  height: 75px;
  min-width: 75px;
  min-height: 75px;
  max-width: 75px;
  max-height: 75px;
  box-sizing: border-box;
}
.restart-button {
  width: 60px;
  height: 60px;
  min-width: 60px;
  min-height: 60px;
  max-width: 60px;
  max-height: 60px;
  box-sizing: border-box;
}
.delete-button {
  width: 70px;
  height: 70px;
  min-width: 70px;
  min-height: 70px;
  max-width: 70px;
  max-height: 70px;
  box-sizing: border-box;
}
.completed-status {
  width: 75px !important;
  height: 75px !important;
  min-width: 75px !important;
  min-height: 75px !important;
  max-width: 75px !important;
  max-height: 75px !important;
  box-sizing: border-box;
  object-fit: contain;
  padding: 0 !important;
  display: block;
  margin: 0 auto;
}
.has-completed-status .report-status-button {
  display: none;
}
.has-completed-status .completed-status {
  display: block;
}

.report-task-cell.completed textarea,
.report-notes-cell.completed textarea {
    border: 1px solid transparent !important;
    pointer-events: none;
    background: #fff;
}
.report-task-cell.completed textarea:hover,
.report-notes-cell.completed textarea:hover {
    border: 1px solid transparent !important;
    background: #fff !important;
    cursor: default;
}
