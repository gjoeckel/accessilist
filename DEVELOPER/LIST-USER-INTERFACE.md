# AccessiList - List User Interface

**Document Type:** Backend Developer Code Audit Reference
**Last Updated:** October 20, 2025
**Purpose:** Complete UI component architecture and interaction patterns
**Branch:** cleanup-and-scope-server-files

---

## üìã Table of Contents

1. [Overview](#overview)
2. [Home Page](#home-page)
3. [Main Checklist Interface](#main-checklist-interface)
4. [Side Panel Navigation](#side-panel-navigation)
5. [Modal System](#modal-system)
6. [Build Functions](#build-functions)
7. [UI Components](#ui-components)
8. [AEIT Page](#aeit-page)
9. [Accessibility Implementation](#accessibility-implementation)

---

## üéØ Overview

The List User Interface encompasses all user-facing components for checklist interaction, including the home page (type selection), main checklist interface, side panel navigation, modal dialogs, and AEIT information page.

### Key Components
- **Home Page** (`php/home.php`) - Landing page with 11 checklist types
- **Main Checklist** (`php/list.php`) - Primary checklist interface
- **Side Panel** (`js/side-panel.js`) - Checkpoint navigation
- **Modals** (`js/simple-modal.js`, `js/ModalActions.js`) - Dialogs and confirmations
- **Build Functions** (`js/buildCheckpoints.js`, `js/buildDemo.js`, `js/addRow.js`) - Dynamic content generation
- **UI Components** (`js/ui-components.js`) - Reusable components
- **AEIT Page** (`php/aeit.php`) - Accessibility information

---

## üè† Home Page

### Purpose
Landing page where users select checklist type from 11 available options, grouped by category (Microsoft, Google, Other, Tutorial).

### Implementation: `php/home.php`

```php
<main role="main">
  <div class="landing-content checklist-groups-container">

    <!-- Tutorial Category -->
    <div class="checklist-group">
      <h2>Start Here</h2>
      <div class="checklist-buttons-row">
        <button id="demo" class="checklist-button">Demo</button>
      </div>
    </div>

    <!-- Microsoft Category -->
    <div class="checklist-groups-row">
      <div class="checklist-group">
        <h2>Microsoft</h2>
        <div class="checklist-buttons-row">
          <button id="word" class="checklist-button">Word</button>
          <button id="powerpoint" class="checklist-button">PowerPoint</button>
          <button id="excel" class="checklist-button">Excel</button>
        </div>
      </div>

      <!-- Google Category -->
      <div class="checklist-group">
        <h2>Google</h2>
        <div class="checklist-buttons-row">
          <button id="docs" class="checklist-button">Docs</button>
          <button id="slides" class="checklist-button">Slides</button>
        </div>
      </div>

      <!-- Other Category -->
      <div class="checklist-group">
        <h2>Other</h2>
        <div class="checklist-buttons-row">
          <button id="camtasia" class="checklist-button">Camtasia</button>
          <button id="dojo" class="checklist-button">Dojo</button>
        </div>
      </div>
    </div>

  </div>
</main>
```

### Button Click Handling

```javascript
// Event delegation for checklist type selection
document.querySelectorAll('.checklist-button').forEach(button => {
  button.addEventListener('click', function() {
    const type = this.id; // "word", "excel", etc.
    window.location.href = `/list?type=${type}`;
  });
});
```

### Type Categories
- **Tutorial:** demo
- **Microsoft:** word, powerpoint, excel
- **Google:** docs, slides
- **Other:** camtasia, dojo

---

## ‚úÖ Main Checklist Interface

### Structure: `php/list.php`

```php
<body class="checklist-page">
  <!-- Loading Overlay -->
  <div id="loadingOverlay">
    <div id="loadingSpinner"></div>
    <div id="loadingText">Loading your checklist...</div>
  </div>

  <!-- Sticky Header -->
  <header class="sticky-header">
    <h1>Accessibility Checklist</h1>
    <button id="homeButton">Home</button>
    <div class="header-buttons-group">
      <button id="saveButton">Save</button>
      <button id="reportButton">Report</button>
    </div>
  </header>

  <!-- Side Panel Navigation -->
  <nav class="side-panel" aria-expanded="true">
    <ul>
      <!-- Checkpoint buttons generated by side-panel.js -->
    </ul>
    <button class="toggle-strip" aria-label="Toggle side panel">
      <span class="toggle-arrow">‚óÄ</span>
    </button>
  </nav>

  <!-- Main Content -->
  <main role="main" id="main-content">
    <!-- Checkpoint sections generated by buildCheckpoints.js -->
  </main>

  <!-- Footer (with optional AEIT link) -->
  <footer><!-- Status div + AEIT link --></footer>
</body>
```

### Checklist Section Structure

```html
<section class="checkpoint-section" data-checkpoint="1">
  <div class="checkpoint-header">
    <h2 id="checkpoint-1-caption" class="checklist-caption" tabindex="-1">
      Checkpoint 1: Accessibility Basics
    </h2>
    <button class="add-row-button" data-checkpoint="1">Add Row</button>
  </div>

  <table class="checklist-table">
    <caption class="sr-only">Checkpoint 1 Tasks</caption>
    <thead>
      <tr>
        <th scope="col" class="task-cell">Task</th>
        <th scope="col" class="status-cell">Status</th>
        <th scope="col" class="notes-cell">Notes</th>
        <th scope="col" class="actions-cell">Actions</th>
      </tr>
    </thead>
    <tbody>
      <!-- Task rows generated by buildCheckpoints.js -->
    </tbody>
  </table>
</section>
```

### Task Row Structure

```html
<tr data-task-id="0">
  <td class="task-cell">
    <span class="task-text">Use proper heading structure</span>
  </td>
  <td class="status-cell">
    <button class="status-button status-ready" data-task-id="0">
      Ready
    </button>
  </td>
  <td class="notes-cell">
    <textarea
      class="notes-textarea"
      data-task-id="0"
      placeholder="Add notes..."
      aria-label="Notes for task: Use proper heading structure"
    ></textarea>
  </td>
  <td class="actions-cell">
    <button class="restart-button" data-task-id="0" title="Reset task">
      <img src="/images/reset.svg" alt="Reset">
    </button>
  </td>
</tr>
```

---

## üß≠ Side Panel Navigation

### Purpose
Checkpoint navigation panel that provides quick access to all checkpoint sections with dynamic visibility and scroll-to functionality.

### Implementation: `js/side-panel.js`

**Class:** `SidePanel`
**File:** `js/side-panel.js`

**Key Features:**
- Dynamically generates checkpoint navigation buttons
- Show All/One toggle (expand/collapse checkpoints)
- Panel collapse/expand (‚óÄ/‚ñ∂ arrow)
- Scroll-to-checkpoint with smooth scroll
- Updates scroll buffer after navigation

**Key Methods:**
- `goToCheckpoint(num)` - Show only specified checkpoint, scroll to it, update buffer
- `toggleShowAll()` - Toggle all checkpoints visible/only-first
- `togglePanel()` - Collapse/expand side panel

---

## ü™ü Modal System

### Purpose
Unified modal dialog system for save confirmations, errors, and user notifications.

### Components
- **simple-modal.js** - Core modal functionality
- **ModalActions.js** - Pre-configured modal actions

### Implementation

**Files:** `js/simple-modal.js`, `js/ModalActions.js`

**SimpleModal Class:**
- `show(options)` - Display modal with title, message, type (info/success/error/confirm)
- `hide()` - Close modal
- `createModal()` - Lazy create on first use

**ModalActions Class:**
- `showSuccess(message)` - Green success modal
- `showError(message)` - Red error modal
- `showInfo(message)` - Blue info modal
- `confirmAction(message, onConfirm, onCancel)` - Yes/No confirmation

**Usage:** `this.modalActions.showSuccess('Saved successfully!')`

---

## üî® Build Functions

### buildCheckpoints.js

**Purpose:** Generate checklist DOM from JSON template
**File:** `js/buildCheckpoints.js`

**Process:** Load JSON template ‚Üí Create checkpoint sections ‚Üí Build tables (Task, Status, Notes, Actions columns) ‚Üí Fire `contentBuilt` event

**Structure Created:**
- `<section class="checkpoint-section">` per checkpoint
- `<h2 class="checklist-caption">` + Add Row button
- `<table class="checklist-table">` with thead/tbody
- Task rows with status button, textarea, reset button

### buildDemo.js

**Purpose:** Build demo checklist with pre-filled data
**File:** `js/buildDemo.js`
**Difference:** Same structure as buildCheckpoints but pre-populates status/notes

### addRow.js

**Purpose:** Dynamically add task rows
**File:** `js/addRow.js`

**Process:** Find checkpoint table ‚Üí Create new row (taskId = currentRows.length) ‚Üí Append row ‚Üí Update scroll buffer ‚Üí Trigger auto-save

---

## üé® UI Components

**File:** `js/ui-components.js`
**Purpose:** Reusable component library (buttons, inputs, icons)
**Exports:** `createButton()`, `createInput()`, `createIcon()`

---

## üìö AEIT Page

**Purpose:** Accessibility information page (Eric J Moore, PhD)
**File:** `php/aeit.php`
**URL:** `/aeit?session=XXX`
**Conditional Display:** Footer AEIT link only shows for types with `"aeitLink": true` in config
**Back Button:** Present when session parameter provided

---

## ‚ôø Accessibility Implementation

**Compliance:** WCAG 2.1 AA
**File:** `css/focus.css`, ARIA attributes throughout

**Key Features:**
- Keyboard navigation (all elements Tab-accessible)
- Focus indicators (2px blue outline)
- ARIA labels and live regions
- Skip links (jump to content)
- Semantic HTML (proper heading hierarchy)
- Color contrast (4.5:1 minimum)
- Screen reader support (.sr-only class for context)

---

## üìö Related Documentation

- **[GENERAL-ARCHITECTURE.md](GENERAL-ARCHITECTURE.md)** - System overview, routing
- **[SAVE-AND-RESTORE.md](SAVE-AND-RESTORE.md)** - StateManager, StateEvents, API
- **[TESTING.md](TESTING.md)** - UI testing, accessibility testing
- **[SYSTEMWIDE-REPORT.md](SYSTEMWIDE-REPORT.md)** - Reports dashboard
- **[LIST-REPORT.md](LIST-REPORT.md)** - Individual checklist reports

---

*Document Created: October 20, 2025*
*Synthesized from: Codebase extraction (side-panel.js, simple-modal.js, ModalActions.js, buildCheckpoints.js, buildDemo.js, addRow.js, ui-components.js, php/home.php, php/aeit.php)*
*Status: Complete UI component architecture for backend developers*
