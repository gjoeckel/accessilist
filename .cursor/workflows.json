{
  "proj-dry": {
    "description": "Run duplicate code detection (AccessiList-specific)",
    "commands": ["./scripts/ai-dry.sh"],
    "auto_approve": true,
    "timeout": 60000,
    "on_error": "continue"
  },
  "proj-deploy-check": {
    "description": "Run pre-deployment validation",
    "commands": ["./scripts/deployment/pre-deploy-check.sh"],
    "auto_approve": true,
    "timeout": 30000,
    "on_error": "continue"
  },
  "proj-test-mirror": {
    "description": "Test production mirror configuration (Docker Apache)",
    "commands": [
      "docker compose up -d",
      "sleep 8",
      "BASE_URL=http://127.0.0.1:8080 ./scripts/test-production-mirror.sh"
    ],
    "auto_approve": true,
    "timeout": 120000,
    "on_error": "continue"
  },
  "proj-docker-up": {
    "description": "Start Docker Apache server",
    "commands": [
      "docker compose up -d",
      "echo '‚úÖ Docker Apache started on http://127.0.0.1:8080'"
    ],
    "auto_approve": true,
    "timeout": 30000,
    "on_error": "continue"
  },
  "proj-docker-down": {
    "description": "Stop Docker Apache server",
    "commands": ["docker compose down", "echo '‚úÖ Docker Apache stopped'"],
    "auto_approve": true,
    "timeout": 20000,
    "on_error": "continue"
  },
  "proj-user-testing": {
    "description": "Start PHP dev server for manual testing (port 8000, doesn't conflict with Docker)",
    "commands": [
      "pkill -f 'php -S localhost:8000' 2>/dev/null || true",
      "php -S localhost:8000 router.php > /tmp/accessilist-server.log 2>&1 &",
      "sleep 2",
      "echo '‚úÖ PHP dev server started on http://localhost:8000'",
      "echo 'üìù Test the demo: http://localhost:8000/home'",
      "echo 'üîç View logs: tail -f /tmp/accessilist-server.log'",
      "echo 'üõë Stop server: pkill -f \"php -S localhost:8000\"'"
    ],
    "auto_approve": true,
    "timeout": 10000,
    "on_error": "continue"
  },
  "ai-push-deploy-github": {
    "description": "Push to GitHub and deploy to production (full deployment with file exclusions)",
    "commands": [
      "echo 'üîç Running pre-deployment checks...'",
      "./scripts/deployment/pre-deploy-check.sh",
      "echo 'üì¶ Verifying production file manifest...'",
      "[ -f .deployignore ] && echo '‚úÖ .deployignore found (Method 1)' || echo '‚ö†Ô∏è  .deployignore missing'",
      "[ -f scripts/deployment/upload-production-files.sh ] && echo '‚úÖ upload-production-files.sh found (Method 2)' || echo '‚ö†Ô∏è  upload-production-files.sh missing'",
      "echo 'üöÄ Uploading 89 production files...'",
      "./scripts/deployment/upload-production-files.sh",
      "echo 'üì§ Pushing to GitHub repository...'",
      "./scripts/github-push-gate.sh secure-push 'push to github'",
      "echo '‚úÖ Deployment complete!'",
      "echo 'üß™ Running post-deployment verification...'",
      "./scripts/deployment/post-deploy-verify.sh"
    ],
    "auto_approve": true,
    "timeout": 300000,
    "on_error": "continue"
  },
  "ai-push-github": {
    "description": "Push to GitHub only (no deployment)",
    "commands": [
      "./scripts/github-push-gate.sh secure-push 'push to github'",
      "echo '‚úÖ Pushed to GitHub successfully'",
      "echo '‚ÑπÔ∏è  No deployment triggered - code pushed to repository only'"
    ],
    "auto_approve": true,
    "timeout": 60000,
    "on_error": "continue"
  },
  "external-live-production": {
    "description": "Test LIVE production (accessilist) - use after deployment",
    "commands": ["./scripts/external/test-production.sh live"],
    "auto_approve": true,
    "timeout": 120000,
    "on_error": "continue"
  },
  "external-test-production": {
    "description": "Test staging (accessilist2) - use before going live",
    "commands": ["./scripts/external/test-production.sh staging"],
    "auto_approve": true,
    "timeout": 120000,
    "on_error": "continue"
  },
  "ai-local-commit-safe": {
    "description": "Run tests and commit if passing (enforced testing with changelog automation)",
    "commands": [
      "docker compose up -d",
      "sleep 8",
      "BASE_URL=http://127.0.0.1:8080 ./scripts/test-production-mirror.sh",
      "bash ~/cursor-global/scripts/git-local-commit.sh"
    ],
    "auto_approve": false,
    "timeout": 180000,
    "on_error": "stop"
  },
  "ai-local-merge-safe": {
    "description": "Merge current branch to main with enforced testing (safe variant with smart changelog merge)",
    "commands": [
      "docker compose up -d",
      "sleep 8",
      "BASE_URL=http://127.0.0.1:8080 ./scripts/test-production-mirror.sh",
      "bash ~/cursor-global/scripts/git-local-merge.sh"
    ],
    "auto_approve": false,
    "timeout": 180000,
    "on_error": "stop"
  },
  "proj-level-1": {
    "description": "Level 1: Analyze root directory (shows ALL files - no changes made)",
    "commands": ["./scripts/organize-level-1-root.sh"],
    "auto_approve": true,
    "timeout": 60000,
    "on_error": "continue"
  },
  "proj-level-1-apply": {
    "description": "Level 1: APPLY root organization (Cursor will ask for approval)",
    "commands": ["./scripts/organize-level-1-apply.sh"],
    "auto_approve": false,
    "timeout": 60000,
    "on_error": "stop"
  },
  "proj-level-2": {
    "description": "Level 2: Analyze folder structure (shows ALL folders - no changes made)",
    "commands": ["./scripts/organize-level-2-folders.sh"],
    "auto_approve": true,
    "timeout": 60000,
    "on_error": "continue"
  },
  "proj-level-2-apply": {
    "description": "Level 2: APPLY folder organization (Cursor will ask for approval)",
    "commands": ["./scripts/organize-level-2-apply.sh"],
    "auto_approve": false,
    "timeout": 60000,
    "on_error": "stop"
  },
  "proj-level-3": {
    "description": "Level 3: Comprehensive global analysis and recommendations (READ ONLY)",
    "commands": ["./scripts/organize-level-3-global.sh"],
    "auto_approve": true,
    "timeout": 60000,
    "on_error": "continue"
  },
  "proj-push-deploy-github": {
    "description": "Deploy to production using explicit file list (89 files only)",
    "commands": [
      "echo 'üîç Verifying deployment manifest...'",
      "[ -f .deployignore ] && echo '‚úÖ Method 1: .deployignore (exclusion list)' || echo '‚ùå Missing .deployignore'",
      "[ -f scripts/deployment/upload-production-files.sh ] && echo '‚úÖ Method 2: upload-production-files.sh (explicit list)' || echo '‚ùå Missing upload script'",
      "echo ''",
      "echo 'üì¶ Production files to upload: 89'",
      "echo '   - Root: 2 files'",
      "echo '   - Config: 1 file'",
      "echo '   - PHP: 18 files'",
      "echo '   - JavaScript: 19 files'",
      "echo '   - CSS: 16 files'",
      "echo '   - Images: 15 files'",
      "echo '   - JSON: 11 files'",
      "echo '   - Sessions: 2 items'",
      "echo ''",
      "echo 'üöÄ Starting production deployment...'",
      "./scripts/deployment/upload-production-files.sh",
      "echo ''",
      "echo 'üì§ Pushing to GitHub...'",
      "./scripts/github-push-gate.sh secure-push 'push to github'",
      "echo ''",
      "echo '‚úÖ Deployment complete! Testing production...'",
      "./scripts/deployment/post-deploy-verify.sh"
    ],
    "auto_approve": false,
    "timeout": 300000,
    "on_error": "stop"
  },
  "proj-deploy-accessilist2": {
    "description": "Deploy to TEST directory (accessilist2) for validation",
    "commands": [
      "echo 'üß™ ========================================'",
      "echo 'üß™ DEPLOYING TO TEST DIRECTORY'",
      "echo 'üß™ Target: accessilist2/'",
      "echo 'üß™ ========================================'",
      "echo ''",
      "echo 'üîç Verifying deployment files...'",
      "./scripts/deployment/verify-deployment-manifest.sh",
      "echo ''",
      "echo '‚ö†Ô∏è  WARNING: Deploying to TEST directory, not live!'",
      "echo '   Path: /var/websites/webaim/htdocs/training/online/accessilist2/'",
      "echo '   URL: https://webaim.org/training/online/accessilist2/home'",
      "echo ''",
      "echo 'üì¶ Uploading 89 production files to accessilist2...'",
      "./scripts/deployment/upload-to-test-directory.sh",
      "echo ''",
      "echo '‚úÖ Test deployment complete!'",
      "echo ''",
      "echo 'üìã Next Steps:'",
      "echo '   1. Create test .env: /var/websites/webaim/htdocs/training/online/etc/.env.accessilist2'",
      "echo '   2. Set BASE_PATH_PRODUCTION=/training/online/accessilist2'",
      "echo '   3. Update config.php to check for .env.accessilist2'",
      "echo '   4. Test: https://webaim.org/training/online/accessilist2/home'",
      "echo ''",
      "echo 'üìñ Full instructions: DEPLOY-TO-ACCESSILIST2.md'",
      "echo ''",
      "echo 'üöÄ After testing, deploy to live: proj-push-deploy-github'"
    ],
    "auto_approve": false,
    "timeout": 300000,
    "on_error": "stop"
  },
  "external-test-browser-ai": {
    "description": "AI-driven browser testing (Playwright MCP tools)",
    "commands": [
      "echo 'üé≠ AI-DRIVEN BROWSER TESTING'",
      "echo '============================'",
      "echo ''",
      "echo 'This workflow uses Playwright MCP tools for AI-driven testing.'",
      "echo ''",
      "echo 'üìã To test production/staging:'",
      "echo '   Ask AI: \"Test AccessiList production using playwright-minimal\"'",
      "echo ''",
      "echo 'üéØ AI will automatically:'",
      "echo '   - Navigate to production URL'",
      "echo '   - Click checklist buttons'",
      "echo '   - Verify checkpoints render'",
      "echo '   - Test status buttons'",
      "echo '   - Fill notes fields'",
      "echo '   - Capture screenshots + console logs'",
      "echo '   - Report results'",
      "echo ''",
      "echo '‚ú® Benefits:'",
      "echo '   - Adapts to actual page state (not hard-coded)'",
      "echo '   - Tests across multiple browsers (Chromium/Firefox/WebKit)'",
      "echo '   - Auto-wait eliminates timing issues'",
      "echo '   - Better debugging with console logs + network capture'",
      "echo ''",
      "echo 'üìñ MCP Server: mcp-playwright-minimal@1.0.0'",
      "echo 'üåê npm: https://www.npmjs.com/package/mcp-playwright-minimal'",
      "echo ''",
      "echo 'üí° Example AI prompts:'",
      "echo '   \"Test Word checklist workflow on staging\"'",
      "echo '   \"Navigate to production and verify all checklist types load\"'",
      "echo '   \"Test save/restore functionality with screenshots\"'",
      "echo ''",
      "echo '‚ö†Ô∏è  Note: Workflow cannot execute AI tools directly.'",
      "echo '   Use this workflow as a reminder to ask AI for browser testing.'",
      "echo ''",
      "echo 'üîó Old hard-coded test: scripts/external/browser-test-user-workflow.js (archived)'"
    ],
    "auto_approve": true,
    "timeout": 10000,
    "on_error": "continue"
  }
}
