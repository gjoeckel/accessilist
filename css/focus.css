/* focus.css - Consolidated from focus-refactor.css block */

/* Remove default outline on focusable elements when focused via keyboard */
textarea:focus-visible,
button:focus-visible,
input:focus-visible,
select:focus-visible {
    outline: none;
}

/* === Standardized Table Interaction Styles (Refactored) === */

/* --- Base Transitions --- */
/* Apply transitions to all elements that will have focus/hover styles */
/* Using :is() to group related elements for transitions */
:is(
  .principles-table .info-link,
  .principles-table .notes-textarea,
  .principles-table .status-button,
  .principles-table .restart-button,
  .principles-button,
  .modal-button,
  #cancelRestart, #confirmRestartYes, #cancelDeleteReportRow, #confirmDeleteReportRow,
  .button-confirm,
  /* .home-button, */ /* Excluded - no animation */
  /* .header-button, */
  /* #saveButton, */
  /* #startButton, */
  /* #refreshButton, */
  .toggle-strip,
  .show-button,
  .delete-button, /* Admin table */
  .admin-delete-button,
  /* .clear-data-button, */
  .camtasia-button,
  /* .checklist-button, */
  .instance-link,
  .heading-content span,
  .side-panel a, /* Ensure transition applies to pseudo-elements */
  select,
  /* Generic fallbacks */
  a,
  button:not(#homeButton), /* Exclude home button from generic button transitions */
  textarea
) {
  transition: background-color 0.2s ease, box-shadow 0.2s ease, border-color 0.2s ease, transform 0.2s ease;
}

/* Default focus styles removed */

/* --- Default Hover Styles (:hover) --- */

/* Default hover styles removed */

/* --- Section-Specific Focus Color Overrides --- */
/* Override default focus color with section's theme color */
/* Uses --theme-color which is set on the section */
/* Using :is() to group elements within each section */

/* Removed section-specific focus overrides in favor of unified Home-style ring */

/* --- Section-Specific Hover Color Overrides --- */
/* Override default hover color with section's theme color */
/* Using :is() to group elements */
/* Combining rules where focus and hover styles are identical */

/* Removed section-specific hover overrides in favor of unified Home-style ring */

/* --- Specific Hover Background Adjustments (Retained from original) --- */
/* Keep subtle background change for most buttons on hover */
:is(
  .principles-table .status-button,
  .principles-table .restart-button,
  .modal-button,
  #cancelRestart,
  #confirmRestartYes,
  #cancelDeleteReportRow,
  #confirmDeleteReportRow,
  .button-confirm,
  /* .home-button, */
  /* .header-button, */
  /* #saveButton, */
  /* #startButton, */
  /* #refreshButton, */
  .toggle-strip,
  .show-button,
  .delete-button, /* Admin table */
  .admin-delete-button,
  /* .clear-data-button, */
  .camtasia-button,
  /* .checklist-button */
  .report-table .report-status-button,
  .report-table .report-delete-button
):hover {
  background-color: inherit; /* Prevent generic darkening */
}



/* Unified green hover/focus background for key action buttons (remove from .checklist-button) */
:is(#yesButton, #refreshButton):is(:hover, :focus-visible) {
    background-color: #478F00;
}

/* Home button background hover/focus (color only) */
#homeButton:hover,
#homeButton:focus-visible {
  background-color: #4482c1; /* Apply button-blue hover */
}

/* Instance link hover style */
.instance-link:hover {
    text-decoration: underline;
    color: var(--primary-color, #0056b3); /* Retained from original */
}


/* --- Side Panel Focus/Hover Indicator (Circular Border) --- */
/* Unchanged from original focus.css */
.side-panel a {
  position: relative;
}

.side-panel a::after {
  content: '';
  position: absolute;
  top: 50%;
  left: 50%;
  transform: translate(-50%, -50%);
  width: 42px;
  height: 42px;
  border-radius: 50%;
  border: 2px solid transparent;
  transition: border-color 0.2s ease;
  pointer-events: none;
}

.side-panel a[href="#checklist-1"]:is(:focus-visible, :hover)::after {
  border-color: #005192;
}
.side-panel a[href="#checklist-2"]:is(:focus-visible, :hover)::after {
  border-color: #5E850F;
}
.side-panel a[href="#checklist-3"]:is(:focus-visible, :hover)::after {
  border-color: #AC6628;
}
.side-panel a[href="#checklist-4"]:is(:focus-visible, :hover)::after {
  border-color: #0C2336;
}

/* Report tab hover/focus indicator uses report theme color */
.side-panel a[href="#report"]:is(:focus-visible, :hover)::after {
  border-color: #666666;
}

/* Side panel toggle button hover/focus - match Save ring */
.toggle-strip:is(:hover, :focus-visible) {
  box-shadow: 0 0 0 1px white, 0 0 0 2px #333, 0 0 0 4px #FFD700 !important;
}

.side-panel a:focus-visible img {
  outline: none !important;
}

/* (covered by unified rule above) */

/* Unified red hover/focus background for destructive actions */
:is(.button-red, .clear-data-button):is(:hover, :focus-visible) {
    background-color: #db1b14;
}

/* === Add Row Button Focus/Hover Circle (Moved to table.css) === */

button.info-link:focus {
  border-radius: 5px; /* Adjust value as needed */
}

.side-panel a:focus-visible {
  outline: none;
}

/* === Add Row Button Base Styles (Moved to table.css) === */

/* === Standard Blue Outline for Key Action Buttons (exclude .checklist-button) === */
#yesButton:focus-visible, #yesButton:hover,
#refreshButton:focus-visible, #refreshButton:hover,
.clear-data-button:focus-visible, .clear-data-button:hover,
#adminButton:focus-visible, #adminButton:hover,
#cancelButton:focus-visible, #cancelButton:hover {
  box-shadow: 0 0 0 2px #005192 !important;
}

/* Apply Home-like ring (white gap, #333 border, gold outer) to interactive elements */
#saveButton:is(:hover, :focus-visible),
.checklist-button:is(:hover, :focus-visible),
.toggle-strip:is(:hover, :focus-visible),
:is(button, input, select, textarea):is(:hover, :focus-visible),
.instance-link:is(:hover, :focus-visible),
.admin-delete-button:is(:hover, :focus-visible) {
  box-shadow: 0 0 0 1px white, 0 0 0 2px #333, 0 0 0 4px #FFD700 !important;
}

/* Checklist Info column: rounded hover/focus shape */
.principles-table .info-link:is(:hover, :focus-visible) {
  border-radius: 6px !important;
  box-shadow: 0 0 0 1px white, 0 0 0 2px #333, 0 0 0 4px #FFD700 !important;
}

/* Admin Instance column: match Checklist Info rounded style */
.instance-link:is(:hover, :focus-visible) {
  border-radius: 6px !important;
  width: 30% !important;
  margin: 0 auto !important;
  display: block !important;
}

/* Focused section headings (span) use the same golden ring with rounded corners */
.heading-content span:is(:hover, :focus-visible) {
  border-radius: 6px !important;
  box-shadow: 0 0 0 1px white, 0 0 0 2px #333, 0 0 0 4px #FFD700 !important;
  padding: 4px !important;
  margin-left: -4px !important; /* compensate padding so adjacent img doesn't shift */
  display: inline-block; /* ensure padding applies without line-height shifts */
}

/* Admin Delete column: match Checklist Restart shape (rounded corners) */
.admin-delete-button:is(:hover, :focus-visible) {
  border-radius: 4px !important;
  width: 60% !important;
  margin: 0 auto !important;
  display: block !important;
}

/* Home button hover/focus ring matches Save button's hover ring */
#homeButton:is(:hover, :focus-visible) {
  box-shadow: 0 0 0 1px white, 0 0 0 2px #333, 0 0 0 4px #FFD700 !important;
}

/* Unified gray hover/focus background for neutral header buttons */
:is(#adminButton, #cancelButton):is(:hover, :focus-visible) {
    background-color: #666666;
}

/* Removed report section-specific overrides in favor of unified Home-style ring */
